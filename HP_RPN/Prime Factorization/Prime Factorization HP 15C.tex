% ***************************************************
% Prime Factors
% in RPN code for HP-15C model
%
% (c) 2013 by Prof. Bernd Ulmann
% rewritten for HP-15C by Arno Jacobs
%

\documentclass[a4paper, landscape]{article}
\usepackage[landscape]{geometry}
\input{../RPN_HP_Base_defs}

% define the title
\author{Prof. Bernd Ulmann}
\title{Prime Factorization for the HP-15C model}

\begin{document}
\maketitle
\tableofcontents

\clearpage


\section{Prime Factorization HP-15C code}

\resetcounter
\tStarttabular

\tONfi           {Switch the calculator ON}
\tPRGMfi         {Enter program mode}
\tCLRPRGMfi      {Clear all program memory}
\\
\tLBLfi {A}             {Start}
\tSFfi  {5}             {Set user flag}
\tSTOfi {0}             {Save input}
\tNBRfi {2}             {}
\tSTOfi {1}             {Save first prime}
\\
\tLBLfi {1}             {}
\tRCLfi {0}             {Read working number}
\tRCLfi {1}             {Read prime}
\tOPdividefi            {}
\tENTERfi               {}
\tFRACfi                {}
\tTESTfi {0}            {Test X$\neq$Y?}
\tGTOfi {2}             {}
\tRCLfi {1}             {Read prime}
\tPSEfi                 {Pause and show register X (prime factor)}
\tRdownfi               {(Get register Y)}
\tRdownfi               {Get register Z}

\tNewPage

\tSTOfi {0}             {}
\tGTOfi {1}             {Next...}
\\
\tLBLfi {2}             {}
\tNBRfi {1}             {} 
\tSTOPLUSfi {1}         {}
\tFlagfi {5}            {}
\tSTOPLUSfi {1}         {}
\tCFfi {5}              {}
\tRCLfi {0}             {Read working number}
\tRCLfi {1}             {Read prime}
\tSqrXfi                {}
\tXsmlreqYfi            {}
\tGTOfi {1}             {Next...}
\tRCLfi {0}             {Read working number}
\tRTNfi                 {Return}

\tPRGMfi         {Leave program mode}

\end{tabular}

\clearpage

\bigskip
\rm
\section{How to use the Prime Factorization program}

\bigskip
Enter number N and run with \KeyAfic. The program will show all the prime factors of N from a low prime (2) and then up.

\bigskip
\noindent
Example:

\tt
\indent \NBRfic{10} \\
\indent \KeyAfic \\
\rm

\bigskip

Output:\\
\it running \rm \\
\tt \NBRfic {2} \indent \it (pause one second)\\
\it running \rm \\
\tt \NBRfic {5} \\
\rm

\bigskip

\clearpage
\bigskip
\noindent
BUT with 33 this program does not work:

\tt
\indent \NBRfic{33} \\
\indent \KeyAfic \\
\rm

\bigskip

SHOULD Output:\\
\it running \rm \\
\tt \NBRfic {2} \indent \it (pause one second)\\
\it running \rm \\
\tt \NBRfic {11} \\
\rm

\bigskip

BUT ALAS... Output:\\
\it running \rm \\
\tt \NBRfic {33} \\
\rm

\bigskip


\end{document}
